<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modern Workout Tracker üí™</title>
  <!-- Google Fonts for a modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <!-- jsPDF for text PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    :root {
      --primary-color: #4CAF50;
      --secondary-color: #3a9d4d;
      --text-color: #333;
      --bg-gradient: linear-gradient(135deg, #e0eafc, #cfdef3);
    }
    
    /* Global resets */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg-gradient);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: background 0.3s, color 0.3s;
    }
    
    /* Header that scrolls normally */
    header {
      width: 100%;
      padding: 20px;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    
    header h1 {
      font-size: 2.5rem;
      color: var(--primary-color);
    }
    
    /* Toggle Theme Button */
    #toggleTheme {
      position: absolute;
      right: 20px;
      top: 20px;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      background: var(--primary-color);
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    #toggleTheme:hover {
      background: var(--secondary-color);
    }
    
    /* Glassmorphism Container (UI remains semi-transparent) */
    .container {
      width: 90%;
      max-width: 800px;
      margin: 40px auto;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      animation: fadeIn 1s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 20px;
      color: var(--primary-color);
    }
    
    /* Workout date styling */
    #workoutDate {
      text-align: center;
      margin-bottom: 20px;
      font-size: 1.2rem;
      color: var(--primary-color);
    }
    
    /* Table styling */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    
    th, td {
      padding: 12px 15px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }
    
    th {
      background-color: var(--primary-color);
      color: #fff;
    }
    
    tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    
    tr:hover {
      background-color: #f1f1f1;
    }
    
    .checkbox {
      text-align: center;
    }
    
    input[type="checkbox"] {
      width: 22px;
      height: 22px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    input[type="checkbox"]:hover {
      transform: scale(1.2);
    }
    
    .done-btn {
      display: block;
      width: 200px;
      margin: 20px auto;
      padding: 12px;
      background-color: var(--primary-color);
      color: #fff;
      border: none;
      border-radius: 25px;
      font-size: 1.2rem;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.3s;
    }
    
    .done-btn:hover {
      background-color: var(--secondary-color);
      transform: translateY(-3px);
    }
    
    .message {
      text-align: center;
      font-size: 1.5rem;
      margin-top: 40px;
    }
    
    /* Responsive design */
    @media (max-width: 600px) {
      header h1 {
        font-size: 2rem;
      }
      h2 {
        font-size: 1.5rem;
      }
      .done-btn {
        width: 150px;
      }
    }
    
    /* Dark mode styles */
    body.dark {
      --primary-color: #90caf9;
      --secondary-color: #64b5f6;
      --text-color: #f5f5f5;
      --bg-gradient: linear-gradient(135deg, #121212, #1e1e1e);
      background: var(--bg-gradient);
      color: var(--text-color);
    }
    
    body.dark header {
      background: rgba(0, 0, 0, 0.8);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
    }
    
    body.dark .container {
      background: rgba(50, 50, 50, 0.8);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }
    
    body.dark table tr:nth-child(even) {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    body.dark table tr:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    body.dark table th,
    body.dark table td {
      color: var(--text-color);
    }
  </style>
</head>
<body>
  <header>
    <h1>Tracker üí™</h1>
    <button id="toggleTheme">Toggle Theme</button>
  </header>
  
  <div id="workoutContainer" class="container"></div>
  
  <script>
    // Workout templates for each day
    const workouts = {
      monday: `
        <h2>Workout A ‚Äì Monday üèãÔ∏è‚Äç‚ôÇÔ∏è</h2>
        <table>
          <tr>
            <th>Exercise</th>
            <th>Sets</th>
            <th>Reps</th>
            <th>Notes</th>
            <th>Done?</th>
          </tr>
          <tr>
            <td>SQUATS</td>
            <td>3</td>
            <td>5‚Äì8</td>
            <td>Focus on depth &amp; form</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>BENCH PRESS / PUSH-UP</td>
            <td>3</td>
            <td>6‚Äì8</td>
            <td>Adapt as needed</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>BARBELL/DUMBBELL ROW</td>
            <td>3</td>
            <td>8‚Äì10</td>
            <td>Keep back flat</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>OVERHEAD PRESS</td>
            <td>3</td>
            <td>6‚Äì8</td>
            <td>Tight core</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>Accessory/Core:<br>Planks / Leg Raises</td>
            <td>3</td>
            <td>30‚Äì60 sec<br>or 10‚Äì15 reps</td>
            <td></td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
        </table>
        <button id="doneButton" class="done-btn">Done ‚úÖ</button>
      `,
      wednesday: `
        <h2>Workout B ‚Äì Wednesday ü§∏‚Äç‚ôÄÔ∏è</h2>
        <table>
          <tr>
            <th>Exercise</th>
            <th>Sets</th>
            <th>Reps</th>
            <th>Notes</th>
            <th>Done?</th>
          </tr>
          <tr>
            <td>DEADLIFTS</td>
            <td>3</td>
            <td>5‚Äì6</td>
            <td>Neutral spine</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>PULL-UPS / CHIN-UPS</td>
            <td>3</td>
            <td>6‚Äì10</td>
            <td>Assisted if needed</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>INCLINE DUMBBELL PRESS</td>
            <td>3</td>
            <td>8‚Äì10</td>
            <td>Focus on chest</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>GOBLET SQUATS / LUNGES</td>
            <td>3</td>
            <td>8‚Äì10 per leg</td>
            <td>Add resistance</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>Accessory/Core:<br>Russian Twists / Bicycle Crunches</td>
            <td>3</td>
            <td>20 twists<br>or 15‚Äì20 per side</td>
            <td>Controlled</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
        </table>
        <button id="doneButton" class="done-btn">Done ‚úÖ</button>
      `,
      friday: `
        <h2>Workout C ‚Äì Friday üéâ</h2>
        <table>
          <tr>
            <th>Exercise</th>
            <th>Sets</th>
            <th>Reps</th>
            <th>Notes</th>
            <th>Done?</th>
          </tr>
          <tr>
            <td>FRONT SQUATS / LEG PRESS</td>
            <td>3</td>
            <td>8</td>
            <td>Maintain posture</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>CHEST PRESS (Dumbbell/Machine)</td>
            <td>3</td>
            <td>8‚Äì10</td>
            <td>Smooth motion</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>ROW VARIATION</td>
            <td>3</td>
            <td>8‚Äì10</td>
            <td>Keep proper form</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>LATERAL RAISES / FACE PULLS</td>
            <td>3</td>
            <td>12‚Äì15</td>
            <td>Shoulder stability</td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
          <tr>
            <td>Accessory/Core:<br>Ab Wheel Rollouts / Side Planks</td>
            <td>3</td>
            <td>8‚Äì10<br>or 30‚Äì45 sec</td>
            <td></td>
            <td class="checkbox"><input type="checkbox"></td>
          </tr>
        </table>
        <button id="doneButton" class="done-btn">Done ‚úÖ</button>
      `
    };

    // Determine today's workout (1 = Monday, 3 = Wednesday, 5 = Friday)
    const day = new Date().getDay();
    let workoutHTML = '';
    if (day === 1) {
      workoutHTML = workouts.monday;
    } else if (day === 3) {
      workoutHTML = workouts.wednesday;
    } else if (day === 5) {
      workoutHTML = workouts.friday;
    } else {
      workoutHTML = `<div class="message">No workout scheduled for today!<br>Enjoy your rest day!</div>`;
    }
    const container = document.getElementById("workoutContainer");
    container.innerHTML = workoutHTML;
    
    // Insert current date element at the top of the container
    const workoutDateEl = document.createElement("div");
    workoutDateEl.id = "workoutDate";
    workoutDateEl.innerText = "Workout Date: " + new Date().toLocaleDateString();
    container.insertBefore(workoutDateEl, container.firstChild);
    
    // Initialize checkboxes from localStorage
    function initCheckboxes() {
      const checkboxes = container.querySelectorAll("input[type='checkbox']");
      checkboxes.forEach((checkbox, index) => {
        const savedState = localStorage.getItem("checkbox-" + index);
        if (savedState === "true") {
          checkbox.checked = true;
        }
        checkbox.addEventListener("change", function() {
          localStorage.setItem("checkbox-" + index, checkbox.checked);
        });
      });
    }
    if (container.querySelector("table")) {
      initCheckboxes();
    }
    
    // Generate a text PDF using jsPDF when Done is clicked.
    // The PDF will contain the date, time, and a list of completed exercises.
    const doneButton = document.getElementById("doneButton");
    if (doneButton) {
      doneButton.addEventListener("click", function() {
        // Get current date and time
        const now = new Date();
        const dateStr = now.toLocaleDateString();
        const timeStr = now.toLocaleTimeString();
        
        // Collect completed exercises from the table rows (skip header)
        let exerciseList = [];
        const rows = container.querySelectorAll("table tr");
        rows.forEach((row, index) => {
          if (index === 0) return; // skip header row
          const checkbox = row.querySelector("input[type='checkbox']");
          if (checkbox && checkbox.checked) {
            const exerciseName = row.cells[0].innerText;
            exerciseList.push(exerciseName);
          }
        });
        
        // Create the text summary
        let summary = `Workout Completed on ${dateStr} at ${timeStr}\n\n`;
        if (exerciseList.length > 0) {
          summary += "Exercises completed:\n";
          exerciseList.forEach((ex, idx) => {
            summary += `${idx + 1}. ${ex}\n`;
          });
        } else {
          summary += "No exercises were marked as done.";
        }
        
        // Generate the PDF using jsPDF
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const lines = doc.splitTextToSize(summary, 180); // wrap text at 180 units
        doc.text(lines, 10, 10);
        doc.save(`Workout-${dateStr}-${timeStr}.pdf`);
      });
    }
    
    // Toggle theme (light/dark)
    const toggleTheme = document.getElementById("toggleTheme");
    toggleTheme.addEventListener("click", () => {
      document.body.classList.toggle("dark");
    });
  </script>
</body>
</html>
